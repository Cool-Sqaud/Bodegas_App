<div class='add-container hidden' id='add-container'>
    <div class='pop-up'>
        <form [formGroup]="useradd" (ngSubmit)="onCreate()">
            <label for="role_id"><strong>Role id: </strong></label><br>
            <input type="number" formControlName="role_id"><br>
            <label for="first_name"><strong>First name: </strong></label><br>
            <input type="text" formControlName="first_name"><br>
            <label for="last_name"><strong>Last name: </strong></label><br>
            <input type="text" formControlName="last_name"><br>
            <label for="email"><strong>Email: </strong></label><br>
            <input type="email" formControlName="email"><br>
            <label for="password"><strong>Password: </strong></label><br>
            <input type="password" formControlName="password"><br><br>
        </form>
        <button (click)="onCreate()">➕ Add user</button>
    </div>
</div>
<h1 class="title">User Administration</h1>
<div class='flexbox'>
        <div class="search">
            <form [formGroup]="search" (ngSubmit)="filter()">
                <label for="filter">Filter:</label>
                <input type="text" formControlName="filter">
            </form>
            <button (click)="filter()">Search</button>
        </div>
        <div class="buttons">
            <button (click)="onCreate_Pop_Up()"><span>➕</span> Add</button>
            <button (click)="onDelete()"><span>➖</span> Delete</button>
            <button (click)="onEdit()"><span>✍️</span> Edit</button>
        </div>
        <cdk-virtual-scroll-viewport class="scrollbar" itemSize="100">
            <table>
                <tr>
                    <th (click)="sortById()" [width]="70">User ID</th>
                    <th (click)="sortByEmail()">Email</th>
                    <th (click)="sortByFirstName()" [width]="140">First name</th>
                    <th (click)="sortByLastName()" [width]="140">Last name</th>
                </tr>
                <tr *ngFor="let result of postedUsers" (click)="view(result.id)">
                    <td *ngIf="result.role_id === 0">{{result.id}}</td>
                    <td *ngIf="result.role_id === 0">{{result.email}}</td>
                    <td *ngIf="result.role_id === 0">{{result.first_name}}</td>
                    <td *ngIf="result.role_id === 0">{{result.last_name}}</td>
                    <td *ngIf="result.role_id !== 0" style="background-color: rgba(218, 165, 32, 0.2);">{{result.id}}</td>
                    <td *ngIf="result.role_id !== 0" style="background-color: rgba(218, 165, 32, 0.2);">{{result.email}}</td>
                    <td *ngIf="result.role_id !== 0" style="background-color: rgba(218, 165, 32, 0.2);">{{result.first_name}}</td>
                    <td *ngIf="result.role_id !== 0" style="background-color: rgba(218, 165, 32, 0.2);">{{result.last_name}}</td>
                </tr>
            </table>
        </cdk-virtual-scroll-viewport>
    <div class="selected" *ngIf="!loadedUsers">
        <h1>Data Employee</h1>
        <p>Loading Employee...</p>
    </div>
    <div class="selected" *ngIf="loadedUsers">
        <h1>Data Employee</h1>
        <p>Employee ID: {{selectedUser.id}}</p>
        <p>Full name: {{selectedUser.first_name + ' ' + selectedUser.last_name}}</p>
        <p>First name: {{selectedUser.first_name}}</p>
        <p>Last name: {{selectedUser.last_name}}</p>
        <p>Role: {{getRoleName(selectedUser.role_id)}}</p>
        <p>Email: {{selectedUser.email}}</p>
        <!-- <p>Made at: {{selectedUser.created_at.slice(0, 10)}}</p> -->
        <!-- <p>Last updated: {{selectedUser.updated_at.slice(0, 10)}}</p> -->
    </div>
</div>


